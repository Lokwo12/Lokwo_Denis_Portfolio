{% extends 'base.html' %}
{% load static site_extras %}
{% block title %}{{ post.title }} — Blog{% endblock %}
{% block og_title %}{{ post.title }} — Blog{% endblock %}
{% block tw_title %}{{ post.title }} — Blog{% endblock %}
{% block head_meta %}
        <meta property="og:description" content="{{ post.content|striptags|truncatechars:180 }}">
        <meta name="twitter:description" content="{{ post.content|striptags|truncatechars:180 }}">
    <meta property="og:image" content="{% absolute_static 'images/og-default.svg' %}">
    <meta name="twitter:image" content="{% absolute_static 'images/og-default.svg' %}">
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": "{{ post.title|escapejs }}",
            "author": {"@type": "Person", "name": "{{ post.author|escapejs }}"},
            "datePublished": "{{ post.created_at|date:'c' }}",
            "dateModified": "{{ post.updated_at|date:'c' }}",
            "mainEntityOfPage": {"@type": "WebPage", "@id": "{{ request.build_absolute_uri }}"}
        }
        </script>
{% endblock %}
{% block content %}
<article class="blog-post container">
    <header style="margin-bottom:12px">
        <span class="eyebrow">Article</span>
        <h1 class="title" style="margin:6px 0 8px">{{ post.title }}</h1>
        <p class="meta">By {{ post.author }} • {{ post.created_at|date:"F j, Y" }} • {{ reading_time }} min read</p>
    </header>
    <div class="content">{{ post.content|linebreaks }}</div>
    <hr style="border:none;border-top:1px solid var(--border);margin:20px 0">
    <nav style="display:flex;justify-content:space-between;gap:10px">
        {% if newer %}<a class="btn secondary" href="{{ newer.get_absolute_url }}">← Newer</a>{% else %}<span></span>{% endif %}
        <a class="btn secondary" href="/blog/">Back to Blog</a>
        {% if older %}<a class="btn secondary" href="{{ older.get_absolute_url }}">Older →</a>{% else %}<span></span>{% endif %}
    </nav>
</article>
{% endblock %}
