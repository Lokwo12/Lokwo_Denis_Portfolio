{% extends 'base.html' %}
{% load static %}

{% block title %}About — Denis Lokwo{% endblock %}

{% block content %}
<section class="container" style="padding:40px 0 10px">
  <h1 class="title" style="margin:0 0 6px">About Me</h1>
  {% if PROFILE.debug %}
  <p class="meta" style="margin-top:6px;color:var(--muted);font-size:0.9rem">
    Debug: profile={{ PROFILE.selected_profile_id }} {{ PROFILE.selected_profile_name }} · exp={{ PROFILE.exp_count }} edu={{ PROFILE.edu_count }} cert={{ PROFILE.cert_count }} award={{ PROFILE.award_count }} · using_db_related={{ PROFILE.using_db_related }}
  </p>
  {% endif %}
</section>

<section class="container about-page" style="padding:10px 0 30px">
  <div class="hero-grid">
    <div>
      <section style="margin-bottom:22px">
        <h3 style="margin:0 0 10px">Skills</h3>
        <div class="tech-chips">
          {% for s in PROFILE.skills %}<span class="chip">{{ s }}</span>{% endfor %}
        </div>
      </section>

      <section style="margin-bottom:22px">
        <h3 style="margin:0 0 10px">Experience</h3>
        <div class="cards-grid">
          {% for job in PROFILE.experience %}
          <article class="project-card">
            <h4 style="margin:0 0 6px">{{ job.role }}</h4>
            <p class="meta">{{ job.company }} • {{ job.period }}</p>
            <p class="lead">{{ job.summary }}</p>
          </article>
          {% endfor %}
        </div>
      </section>

      <section>
        <h3 style="margin:0 0 10px">Education</h3>
        <div class="cards-grid">
          {% for ed in PROFILE.education %}
          <article class="project-card">
            <h4 style="margin:0 0 6px">{{ ed.degree }}</h4>
            <p class="meta">
              {{ ed.institution }} • {{ ed.period }}{% if ed.location %} • {{ ed.location }}{% endif %}
              {% if ed.honors %} • <em>{{ ed.honors }}</em>{% endif %}
              {% if ed.gpa %} • GPA: {{ ed.gpa }}{% endif %}
            </p>
            {% if ed.summary %}<p class="lead">{{ ed.summary }}</p>{% endif %}
            {% if ed.courses %}
            <div style="margin-top:8px">
              <strong style="font-size:0.95rem;color:var(--muted)">Key Courses:</strong>
              <div class="tech-chips" style="margin-top:6px">
                {% for c in ed.courses %}<span class="chip">{{ c }}</span>{% endfor %}
              </div>
            </div>
            {% endif %}
          </article>
          {% endfor %}
        </div>
      </section>

      {% if PROFILE.tools %}
      <section style="margin-top:22px">
        <h3 style="margin:0 0 10px">Tools & Technologies</h3>
        <div class="tech-chips">{% for t in PROFILE.tools %}<span class="chip">{{ t }}</span>{% endfor %}</div>
      </section>
      {% endif %}

      {% if PROFILE.languages %}
      <section style="margin-top:22px">
        <h3 style="margin:0 0 10px">Languages</h3>
        <div class="tech-chips">{% for l in PROFILE.languages %}<span class="chip">{{ l }}</span>{% endfor %}</div>
      </section>
      {% endif %}

      {% if PROFILE.interests %}
      <section style="margin-top:22px">
        <h3 style="margin:0 0 10px">Interests</h3>
        <div class="tech-chips">{% for i in PROFILE.interests %}<span class="chip">{{ i }}</span>{% endfor %}</div>
      </section>
      {% endif %}

      {% if PROFILE.certifications %}
      <section style="margin-top:22px">
        <h3 style="margin:0 0 10px">Certifications</h3>
        <div class="tech-chips">{% for c in PROFILE.certifications %}<span class="chip">{{ c }}</span>{% endfor %}</div>
      </section>
      {% endif %}

      {% if PROFILE.awards %}
      <section style="margin-top:22px">
        <h3 style="margin:0 0 10px">Awards</h3>
        <div class="tech-chips">{% for a in PROFILE.awards %}<span class="chip">{{ a }}</span>{% endfor %}</div>
      </section>
      {% endif %}
    </div>

    <div>
      <article class="profile-card">
        <div class="avatar">
          {% if PROFILE.avatar_url %}
          <img src="{{ PROFILE.avatar_url }}" alt="{{ PROFILE.name }}" style="width:100%;height:auto;border-radius:10px;display:block">
          {% else %}
          <img src="{% static 'images/avatar.svg' %}" alt="{{ PROFILE.name }}" style="width:100%;height:auto;border-radius:10px;display:block">
          {% endif %}
        </div>
        <div class="profile-meta">
          <h4>{{ PROFILE.name }}</h4>
          <p>{{ PROFILE.title }}</p>
        </div>
        <ul class="footer-list" style="margin-top:10px">
          <li><strong>Location:</strong> {{ PROFILE.location }}</li>
          {% if PROFILE.email %}<li><strong>Email:</strong> <a href="mailto:{{ PROFILE.email }}">{{ PROFILE.email }}</a></li>{% endif %}
          {% if PROFILE.phone %}<li><strong>Phone:</strong> <a href="tel:{{ PROFILE.phone|cut:' ' }}">{{ PROFILE.phone }}</a></li>{% endif %}
          {% if PROFILE.whatsapp %}<li><strong>WhatsApp:</strong> <a href="https://wa.me/{{ PROFILE.whatsapp_link }}" target="_blank" rel="noopener">{{ PROFILE.whatsapp }}</a></li>{% endif %}
        </ul>
        <div style="display:flex;gap:10px;margin-top:12px">
          <a class="btn secondary" href="/contact/">Get in touch</a>
          <a class="btn" href="{% static 'resume/Denis_Lokwo_Resume.pdf' %}" download>Download CV</a>
        </div>
        {% if PROFILE.links.github or PROFILE.links.linkedin %}
        <div style="display:flex;gap:10px;margin-top:12px">
          {% if PROFILE.links.github %}<a class="chip" href="{{ PROFILE.links.github }}" target="_blank" rel="noopener">GitHub</a>{% endif %}
          {% if PROFILE.links.linkedin %}<a class="chip" href="{{ PROFILE.links.linkedin }}" target="_blank" rel="noopener">LinkedIn</a>{% endif %}
        </div>
        {% endif %}
      </article>
    </div>
  </div>
</section>

<section class="container" style="padding:10px 0 30px">
  <p class="lead" style="max-width:820px">{{ PROFILE.summary }}</p>
</section>
{% endblock %}
