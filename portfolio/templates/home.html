{% extends 'base.html' %}

{% load static %}

{% block title %}Home ‚Äî Denis Lokwo{% endblock %}

{% block content %}
<section class="hero container">
	<div class="hero-grid">
		<div class="intro">
			<span class="eyebrow fade-up stagger-1">Software Developer</span>
			<h1 class="title fade-up stagger-2">Hi, I'm Denis ‚Äî I build delightful web apps for the modern web.</h1>
			<p class="lead fade-up stagger-3">I'm a full-stack developer focused on performance, accessibility, and clean UX. I enjoy turning ideas into production-quality code and mentoring junior engineers.</p>

			<div class="roles-line pill fade-up stagger-3" aria-label="Rotating roles">
				<span class="sparkle-icon" aria-hidden="true">
					<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
						<path d="M12 2l1.7 4.6L18 8.3l-4.3 1.7L12 14l-1.7-4.1L6 8.3l4.3-1.7L12 2zm7 6l.9 2.4L22 12l-2.1 1.6L19 16l-.9-2.4L16 12l2.1-1.6L19 8zm-14 0l.9 2.4L8 12l-2.1 1.6L5 16l-.9-2.4L2 12l2.1-1.6L5 8z"/>
					</svg>
				</span>
				<span class="roles-label">Focus:</span>
				<span class="type-wrap"><span data-roles="React Developer|Django Developer|Open Source Contributor" data-speed="80" data-pause="800" data-back-pause="350"></span></span>
			</div>

            <div class="cta-row fade-up stagger-3">
				<a class="btn" href="#projects">View Projects</a>
                <a class="btn secondary" href="/contact/">Get in touch</a>
                <a class="btn secondary" href="{% static 'resume/Denis_Lokwo_Resume.pdf' %}" download>Download CV</a>
				<a class="btn" href="{% url 'portfolio:portfolio_pdf' %}">Download Portfolio PDF</a>
			</div>
		</div>

			<div style="display:flex;gap:18px;align-items:flex-start">
				<div class="social-vertical fade-up stagger-2" aria-hidden="false">
					<a class="icon" href="https://github.com/Lokwo12" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
						<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 .5C5.73.5.75 5.48.75 11.75c0 4.95 3.22 9.14 7.69 10.62.56.1.77-.24.77-.54 0-.27-.01-1-.01-1.95-3.13.68-3.79-1.38-3.79-1.38-.51-1.29-1.25-1.63-1.25-1.63-1.02-.7.08-.68.08-.68 1.13.08 1.73 1.16 1.73 1.16 1 .17 1.53-.75 1.53-.75.9-1.53 2.36-1.09 2.94-.83.09-.66.39-1.09.71-1.34-2.5-.28-5.14-1.25-5.14-5.58 0-1.23.44-2.23 1.16-3.02-.12-.28-.5-1.42.11-2.96 0 0 .95-.3 3.12 1.15.9-.25 1.87-.37 2.83-.38.96.01 1.93.13 2.84.38 2.16-1.45 3.11-1.15 3.11-1.15.62 1.54.24 2.68.12 2.96.73.79 1.16 1.79 1.16 3.02 0 4.34-2.64 5.29-5.15 5.57.4.35.76 1.05.76 2.12 0 1.53-.01 2.77-.01 3.15 0 .3.2.65.78.54C19.04 20.89 22.25 16.7 22.25 11.75 22.25 5.48 17.27.5 12 .5z"/></svg>
					</a>
					<a class="icon" href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
						<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M4.98 3.5C4.98 4.88 3.86 6 2.48 6S0 4.88 0 3.5 1.12 1 2.5 1 4.98 2.12 4.98 3.5zM0 8h5v16H0V8zm7.5 0H12v2.2h.1c.6-1.1 2.1-2.2 4.3-2.2 4.6 0 5.5 3 5.5 6.9V24h-5V15.2c0-2.1 0-4.8-2.9-4.8-2.9 0-3.3 2.2-3.3 4.6V24h-5V8z"/></svg>
					</a>
					<a class="icon" href="https://twitter.com/" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
						<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M22.46 6c-.77.35-1.6.59-2.46.7a4.27 4.27 0 0 0 1.88-2.36c-.83.5-1.76.86-2.75 1.05A4.24 4.24 0 0 0 11.5 9.5c0 .33.03.66.11.97-3.52-.18-6.64-1.86-8.73-4.42-.36.6-.57 1.3-.57 2.04 0 1.4.71 2.63 1.79 3.35-.66-.02-1.29-.2-1.84-.5v.05c0 1.96 1.4 3.6 3.26 3.97-.34.09-.7.14-1.07.14-.26 0-.52-.03-.77-.07.52 1.63 2.04 2.82 3.84 2.85A8.53 8.53 0 0 1 2 19.54 12.05 12.05 0 0 0 8.29 21c7.55 0 11.68-6.26 11.68-11.68l-.01-.53A8.2 8.2 0 0 0 22.46 6z"/></svg>
					</a>
				</div>

				<div class="profile-card fade-up stagger-1">
					<div class="avatar"><img src="{% static 'images/avatar.svg' %}" alt="Denis Lokwo avatar" style="width:100%;height:auto;border-radius:10px;display:block"></div>
					<div class="profile-meta">
						<h4>Denis Lokwo</h4>
						<p>Full-stack developer ‚Äî Django, React, TypeScript, PostgreSQL.</p>
					</div>
				</div>
			</div>
	</div>
</section>

{% if featured_project %}
<section class="container" style="padding:10px 0 10px">
	<div class="featured-project">
		<div class="fp-content">
			<h2 class="fp-title">Featured Project ‚Äî {{ featured_project.title }}</h2>
			<p class="meta">{{ featured_project.category|default:'General' }} ‚Ä¢ {{ featured_project.date|date:'F Y' }}</p>
			<p class="lead">{{ featured_project.description|truncatewords:36 }}</p>
			{% with techs=featured_project.tech_list %}
			{% if techs %}
			<div class="tech-chips" style="margin:8px 0 14px">
				{% for t in techs %}<span class="chip">{{ t }}</span>{% endfor %}
			</div>
			{% endif %}
			{% endwith %}
			<div class="cta-row">
				{% if featured_project.url %}
				<a class="btn" href="{{ featured_project.url }}" target="_blank" rel="noopener" data-ev="project_view_live" data-project="{{ featured_project.title }}" data-url="{{ featured_project.url }}">View live</a>
				{% endif %}
				<a class="btn" href="{{ featured_project.get_absolute_url }}" data-ev="case_study_open" data-project="{{ featured_project.title }}" data-slug="{{ featured_project.slug }}">Read case study</a>
				<a class="btn secondary" href="/projects/">All projects</a>
			</div>
		</div>
		{% if featured_project.image %}
		<div class="fp-media">
			<img src="{{ featured_project.image.url }}" alt="{{ featured_project.title }} screenshot">
		</div>
		{% endif %}
	</div>
	<hr style="border:none;border-top:1px solid var(--border);margin:18px 0 0" />
</section>
{% endif %}

	<section class="container" style="padding:10px 0 0">
		<div class="stats-row">
			<div class="stat">
				<div class="stat-value">{{ stats.years }}+</div>
				<div class="stat-label">Years Experience</div>
			</div>
			<div class="stat">
				<div class="stat-value">{{ stats.projects }}</div>
				<div class="stat-label">Projects</div>
			</div>
			<div class="stat">
				<div class="stat-value">{{ stats.posts }}</div>
				<div class="stat-label">Blog Posts</div>
			</div>
		</div>
	</section>

	<!-- Projects -->
	<section id="projects" class="container" style="padding:50px 0">
		<h2 style="margin-top:0">Selected Projects</h2>
		{% if projects %}
		<div class="cards-grid">
			{% for p in projects %}
			<article class="project-card" data-effect="slide-up">
				<h3>{{ p.title }}</h3>
				<p class="meta">{{ p.category|default:'General' }} ‚Ä¢ {{ p.date|date:'M Y' }}</p>
				<p class="lead">{{ p.description|default:'No description provided.'|truncatewords:24 }}</p>
				{% with techs=p.tech_list %}
				{% if techs %}
				<div class="tech-chips">
					{% for t in techs %}<span class="chip">{{ t }}</span>{% endfor %}
				</div>
				{% endif %}
				{% endwith %}
				<div>
					{% if p.url %}
						<a class="btn" href="{{ p.url }}" target="_blank" rel="noopener">View</a>
					{% else %}
						<a class="btn" href="/projects/">View</a>
					{% endif %}
				</div>
			</article>
			{% endfor %}
		</div>
		<a class="btn secondary" style="margin-top:16px" href="/projects/">Browse all projects</a>
		{% else %}
		<p class="muted">No projects yet.</p>
		{% endif %}
	</section>

	{% if top_tags %}
	<section class="container" style="padding:10px 0 30px">
		<h3 style="margin:0 0 10px">Top Technologies</h3>
		<div class="tech-chips">
			{% for t in top_tags %}<span class="chip">{{ t }}</span>{% endfor %}
		</div>
	</section>
	{% endif %}

	<!-- Testimonials -->
	<section class="container" style="padding:20px 0 10px">
		{% if testimonials %}
		<h2 style="margin-top:0">What clients say</h2>
		<div class="cards-grid">
			{% for t in testimonials %}
			<article class="profile-card testimonial-card" data-effect="zoom-in">
				{% if t.image %}<img class="contact-avatar" src="{{ t.image.url }}" alt="{{ t.name }} avatar">{% endif %}
				<p class="lead">‚Äú{{ t.content|truncatewords:32 }}‚Äù</p>
				<p class="meta">‚Äî {{ t.name }}{% if t.role %}, {{ t.role }}{% endif %}</p>
			</article>
			{% endfor %}
		</div>
		{% endif %}
	</section>
					{% if featured_post %}
					<article class="blog-post" style="border-left:3px solid var(--accent)">
						<h3><a href="{{ featured_post.get_absolute_url }}">üìå Featured: {{ featured_post.title }}</a></h3>
						<p class="meta">By {{ featured_post.author }} on {{ featured_post.created_at|date:"F j, Y" }}</p>
						<p>{{ featured_post.content|truncatewords:30 }}</p>
					</article>
					{% endif %}

<!-- Contact section removed: dedicated /contact/ page is now the primary contact entry point -->

	<!-- Blog preview section -->
<section class="blog-list container" style="margin-top:48px;">
    <h2>Latest Blog Posts</h2>
    {% with posts=posts|default:None %}
    {% if posts %}
        {% for post in posts|slice:":3" %}
            <article class="blog-post">
				 <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
                <p class="meta">By {{ post.author }} on {{ post.created_at|date:"F j, Y" }}</p>
                <p>{{ post.content|truncatewords:30 }}</p>
            </article>
        {% endfor %}
        <a class="btn secondary" href="/blog/">View all blog posts</a>
    {% else %}
        <p class="muted">No blog posts yet. Stay tuned.</p>
    {% endif %}
    {% endwith %}
</section>

{% block extra_js %}
<script src="{% static 'js/home.js' %}"></script>
{% endblock %}

{% block extra_css %}{% endblock %}
{% endblock %}
